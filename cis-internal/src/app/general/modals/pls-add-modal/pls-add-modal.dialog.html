<div mat-dialog-title>Add New {{datas}} User</div>
<div>
    <mat-tab-group class="mt-3" [(selectedIndex)]="selectedIndex" (selectedTabChange)="tabChanged($event)">

        <mat-tab label="Personal Information" disabled>
            <form class="mt-3" fxLayout="column" [formGroup]="personalInfo">
                <div class="row">
                    <div class="col-4 mb-1">
                        <mat-form-field appearance="outline" >
                            <mat-label style="padding-right:2em">PLS Code *</mat-label>
                            <input  formControlName="ppnNo" matInput>
                            <span matPrefix class="pr-2" >{{prefixCode}}</span>
                        </mat-form-field>
                        <div *ngIf="ppnNo.touched &&  ppnNo.invalid">
                            <small *ngIf="ppnNo.errors?.required" class="text-danger support-text">PLS Code Required.</small>
                        </div>

                    </div>
                    <div class="col-4 mb-1">
                        <mat-form-field appearance="outline">
                            <mat-label>Initials *</mat-label>
                            <input  formControlName="initials" matInput>
                        </mat-form-field>
                        <div *ngIf="initials.touched &&  initials.invalid">
                            <small  *ngIf="initials.errors?.required" class="text-danger support-text">initials Required.</small>
                        </div>

                    </div>
                    <div class="col-4 mb-1">
                        <mat-form-field appearance="outline">
                            <mat-label>First Name *</mat-label>
                            <input  formControlName="firstName" matInput >
                        </mat-form-field>
                        <div *ngIf="firstName.touched &&  firstName.invalid">
                            <small *ngIf="firstName.errors?.required" class="text-danger support-text">First Name Required.</small>
                        </div>

                    </div>
                    <div class="col-4 mb-1">
                        <mat-form-field appearance="outline">
                            <mat-label>Last Name *</mat-label>
                            <input formControlName="surname" matInput>
                        </mat-form-field>
                        <div *ngIf="surname.touched &&  surname.invalid">
                            <small *ngIf="surname.errors?.required" class="text-danger support-text">Last Name Required.</small>
                        </div>

                    </div>
                    <div class="col-4 mb-1">
                        <mat-form-field appearance="outline">
                            <mat-label>Email *</mat-label>
                            <input formControlName="email" matInput>
                        </mat-form-field>
                        <div *ngIf="email.touched &&  email.invalid">
                            <small *ngIf="email.errors?.required"class="text-danger support-text" >Email Required.</small>
                            <small *ngIf="email.errors?.email" class="text-danger support-text">Invalid Email</small>
                        </div>

                    </div>
                    <div class="col-4 mb-1">
                        <mat-form-field appearance="outline">
                            <mat-label>Alternate Email</mat-label>
                            <input formControlName="alternateEmail" matInput>
                        </mat-form-field>
                        <div *ngIf="alternateEmail.touched &&  alternateEmail.invalid">
                            <small *ngIf="alternateEmail.errors?.email" class="text-danger support-text">Invalid alternate Email</small>
                        </div>

                    </div>
                </div>
                <div class="button mb-2" fxLayoutAlign="end" fxLayoutGap="10px">
                    <button mat-raised-button color="danger" class="clear-button back" mat-dialog-close style="width: 120px;">
                        Cancel
                    </button>
                    <button mat-raised-button class="submit-button bover float-right" type="button" (click)="nextStep(1)" style="width: 120px;">
                        Next<mat-icon mat-icon-button>navigate_next</mat-icon>
                    </button>
                </div>
            </form>
        </mat-tab>
        <mat-tab id="admin" label="Contact Information" disabled>
            <form class="mt-3" [formGroup]="contactInfo">

                <div class="row">
                    <div class="col-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Mobile Number *</mat-label>
                            <input type="text"  formControlName="cellPhoneNo" matInput  >
                        </mat-form-field>
                        <div *ngIf="cellPhoneNo.touched &&  cellPhoneNo.invalid">
                            <small *ngIf="cellPhoneNo.errors?.required" class="text-danger support-text">Mobile number Required.</small>
                            <small *ngIf="cellPhoneNo.errors?.pattern" class="text-danger support-text">Only numeric allowed.</small>
                            <small *ngIf="!cellPhoneNo.errors?.pattern
                            && cellPhoneNo.errors?.minlength || cellPhoneNo.errors?.maxlength" class="text-danger support-text"> Only 10 digits allowed.</small>
                        </div>

                    </div>
                    <div class="col-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Telephone Number *</mat-label>
                            <input type="text"  formControlName="telephoneNumber" matInput>
                        </mat-form-field>
                        <div *ngIf="telephoneNumber.touched &&  telephoneNumber.invalid">
                            <small *ngIf="telephoneNumber.errors?.required" class="text-danger support-text">Telephone Number Required.</small>
                            <small *ngIf="telephoneNumber.errors?.pattern" class="text-danger support-text">Only numeric allowed.</small>
                            <small *ngIf="!telephoneNumber.errors?.pattern
                            && telephoneNumber.errors?.minlength || telephoneNumber.errors?.maxlength" class="text-danger support-text"> Only 10 digits allowed.</small>
                        </div>

                    </div>
                    <div class="col-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Fax Number *</mat-label>
                            <input  formControlName="faxNo" matInput >
                        </mat-form-field>
                        <div *ngIf="faxNo.touched &&  faxNo.invalid">
                            <small *ngIf="faxNo.errors?.required" class="text-danger support-text">Fax No Required.</small>
                            <small *ngIf="faxNo.errors?.pattern" class="text-danger support-text">Only numeric allowed.</small>
                            <small *ngIf="!faxNo.errors?.pattern
                            && faxNo.errors?.minlength || faxNo.errors?.maxlength" class="text-danger support-text"> Only 10 digits allowed.</small>
                        </div>

                    </div>
                    <div class="col-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Address Line 1 *</mat-label>
                            <input  formControlName="postalAddress1" matInput >
                        </mat-form-field>
                        <div *ngIf="postalAddress1.touched &&  postalAddress1.invalid">
                            <small *ngIf="postalAddress1.errors?.required" class="text-danger support-text">Postal Address1 Required.</small>
                        </div>

                    </div>
                    <div class="col-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Address Line 2</mat-label>
                            <input  formControlName="postalAddress2" matInput>
                        </mat-form-field>

                    </div>
                    <div class="col-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Address Line 3</mat-label>
                            <input  formControlName="postalAddress3" matInput>
                        </mat-form-field>

                    </div>
                    <div class="col-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Address Line 4</mat-label>
                            <input  formControlName="postalAddress4" matInput>
                        </mat-form-field>

                    </div>
                    <div class="col-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Postal Code *</mat-label>
                            <input  formControlName="postalCode" matInput pattern="\d{4}"  minlength="4" maxlength="4">
                        </mat-form-field>
                        <div *ngIf="postalCode.touched &&  postalCode.invalid">
                            <small *ngIf="postalCode.errors?.required" class="text-danger support-text">Postal Code Required.</small>
                            <small *ngIf="postalCode.errors?.pattern" class="text-danger support-text">Only numeric allowed.</small>
                            <small *ngIf="!postalCode.errors?.pattern
                            && postalCode.errors?.minlength || postalCode.errors?.maxlength" class="text-danger support-text"> Only 4 digits allowed.</small>
                        </div>

                    </div>
                    <div class="col-4">
                        <mat-form-field appearance="outline">
                            <mat-label>Province *</mat-label>
                            <mat-select matInput formControlName="provinceId" >
                                <mat-option *ngFor="let x of provinces" [value]="x.provinceId">
                                    {{ x.provinceName }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div *ngIf="provinceId.touched &&  provinceId.invalid">
                            <small *ngIf="provinceId.errors?.required" class="text-danger support-text">Province Required.</small>
                        </div>

                    </div>
                </div>
                <div class="button mb-2" fxLayoutAlign="end" fxLayoutGap="10px">
                    <button mat-raised-button color="red" class="clear-button back float-right" (click)="previousStep()" style="width: 120px;">
                        <mat-icon mat-icon-button>navigate_before</mat-icon>Previous
                    </button>
                    <button mat-raised-button class="submit-button bover float-right" (click)="nextStep(2)" style="width: 120px;">
                        Next<mat-icon mat-icon-button>navigate_next</mat-icon>
                    </button>
                </div>
            </form>
        </mat-tab>
        <mat-tab label="Additional Information" disabled>
         <form class="mt-3" fxLayout="column" [formGroup]="additionalInfo">

                <div class="row">
                    <div class="col-4 mb-1">
                        <mat-form-field appearance="outline">
                            <mat-label>Courier Service *</mat-label>
                            <input  formControlName="courierService" matInput >
                        </mat-form-field>
                        <div *ngIf="courierService.touched &&  courierService.invalid">
                            <small *ngIf="courierService.errors?.required" class="text-danger support-text">Courier Service Required.</small>
                        </div>

                    </div>
                    <div class="col-4 mb-1">
                        <mat-form-field appearance="outline">
                            <mat-label>Business Name *</mat-label>
                            <input  formControlName="businessName" matInput >
                        </mat-form-field>
                        <div *ngIf="businessName.touched &&  businessName.invalid">
                            <small *ngIf="businessName.errors?.required" class="text-danger support-text">Business Name Required.</small>
                        </div>

                    </div>
                    <!-- <div class="col-4 mb-1">
                        <mat-form-field appearance="outline">
                            <mat-label>Restricted *</mat-label>
                            <mat-select matInput formControlName="restrictedIndicator" >
                                <mat-option *ngFor="let x of org" [value]="x.itemId">
                                    {{ x.caption }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div *ngIf="restrictedIndicator.touched &&  restrictedIndicator.invalid">
                            <small *ngIf="restrictedIndicator.errors?.required" class="text-danger support-text">Restricted Indicator Required.</small>
                        </div>

                    </div>
                    <div class="col-4 mb-1">
                        <mat-form-field appearance="outline">
                            <mat-label>Sectional Plan *</mat-label>
                            <mat-select matInput formControlName="sectionalPlanInd" >
                                <mat-option *ngFor="let x of org" [value]="x.itemId">
                                    {{ x.caption }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div *ngIf="sectionalPlanInd.touched &&  sectionalPlanInd.invalid">
                            <small  *ngIf="sectionalPlanInd.errors?.required" class="text-danger support-text">Sectional Plan Required.</small>
                        </div>

                    </div> -->
                    <div class="col-12 mb-1">
                        <mat-form-field appearance="outline">
                            <mat-label>General Notes *</mat-label>
                            <textarea  formControlName="generalNotes" matInput
                                       style="color: black;" ></textarea>
                            <span class="pull-right char" style="color: black;"><em>{{ 1000 - generalNotes.value.length
                                }} characters
                                    left</em></span>
                        </mat-form-field>
                        <div *ngIf="generalNotes.touched &&  generalNotes.invalid">
                            <small *ngIf="generalNotes.errors?.required" class="text-danger support-text">General Notes Required.</small>
                        </div>

                    </div>
<!--                    <div class="col-4 mb-1">-->
<!--                        <mat-form-field appearance="outline">-->
<!--                            <mat-label>sgOfficeId</mat-label>-->
<!--                            <input  formControlName="sgOfficeId" matInput >-->
<!--                        </mat-form-field>-->
<!--                        <div *ngIf="sgOfficeId.touched &&  sgOfficeId.invalid" class="alert alert-danger">-->
<!--                            <small *ngIf="sgOfficeId.errors?.required" >SG Office Required.</small>-->
<!--                        </div>-->

<!--                    </div>-->
<!--                    <div class="col-4 mb-1">-->
<!--                        <mat-form-field appearance="outline">-->
<!--                            <mat-label>Surveyor Id</mat-label>-->
<!--                            <input  formControlName="surveyorId" matInput >-->
<!--                        </mat-form-field>-->
<!--                        <div *ngIf="surveyorId.touched &&  surveyorId.invalid" class="alert alert-danger">-->
<!--                            <small *ngIf="surveyorId.errors?.required" >Surveyor Id Required.</small>-->
<!--                        </div>-->

<!--                    </div>-->
                </div>


                <div class="row">

                    <div class="col-12">
                        <mat-form-field appearance="outline">
                            <mat-label>Description</mat-label>
                            <textarea  formControlName="description" matInput
                                style="color: black;"></textarea>
                            <span class="pull-right char" style="color: black;"><em>{{ 1000 - description.value.length
                                    }} characters
                                    left</em></span>
                        </mat-form-field>
                    </div>

                </div>
                <div class="button mb-2" fxLayoutAlign="end" fxLayoutGap="10px">
                    <button mat-raised-button color="red" class="submit-button bover float-right" (click)="previousStep()" style="width: 150px;">
                        <mat-icon mat-icon-button>navigate_before</mat-icon>Previous
                    </button>
                    <button mat-raised-button class="clear-button back float-right" style="width: 120px;" (click)="register()">
                        Submit
                    </button>
                </div>
            </form>
        </mat-tab>

    </mat-tab-group>
</div>

