<div class="container-fluid">
    <!-- <div *ngIf="isSpinnerVisible" class="overlay">
        <div class="overlay__wrapper">
            <div class="overlay__spinner">
                <mat-spinner></mat-spinner>
            </div>
        </div>
    </div> -->
    <div class="row">
        <div class="col">
            <i style="font-size: 30px; cursor: pointer;" (click)="nvaigateToSeach()" class="fa fa-arrow-circle-left"
                aria-hidden="true"></i>
        </div>
    </div>
    <mat-card>
        <mat-card-content>
            <div class="row align-items-center">
                <div class="col-6">
                </div>
                <div class="col-6 text-right">
                    <button mat-mini-fab class="icon-css" style="cursor: pointer;" (click)="boxfun()"
                        matTooltip="View Requester Data">
                        <mat-icon>supervised_user_circle</mat-icon>
                    </button>
                    <!-- <mat-icon class="icon-css" style="cursor: pointer;" (click)="boxfun()">
                        more_horiz
                    </mat-icon> -->
                </div>
            </div>
            <div id="SearchCourse" class="selectbox" *ngIf="box == 1"
                style="top: 47px; width: 550px; height: auto; display: block;overflow: hidden;">
                <div class="toolbox" style="padding: 8px;">
                    <span style="margin-left: 10px; margin-top: 10px">Requester Data</span>
                    <mat-icon style="float: right; cursor: pointer;" (click)="closebox()">
                        close
                    </mat-icon>
                </div>
                <div id="scrollbar" class="gridscroll">
                    <div class="row">
                        <div class="col-12 col-md-6 col-lg-6">
                            <p>Are you the requestor of data?</p>
                        </div>
                        <div class="col-12 col-md-6 col-lg-6">
                            <mat-radio-group [(ngModel)]="requestor">
                                <mat-radio-button class="m-r-10" value="yes">Yes</mat-radio-button>
                                <mat-radio-button value="no">No</mat-radio-button>
                            </mat-radio-group>
                        </div>
                    </div>
                    <form [formGroup]="requesterForm">
                        <div *ngIf="requestor === 'no'">
                            <div class="row">
                                <div *ngIf="requestor === 'no'" class="col-12 col-md-6 col-lg-6">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Requestor</mat-label>
                                        <mat-select (selectionChange)="setValidation()" [(ngModel)]="requesterType"
                                            [ngModelOptions]="{ standalone: true }" matInput>
                                            <mat-option *ngFor="let item of reqTypes" [value]="item.itemId">
                                                {{item.caption}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-12 col-md-6 col-lg-6">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Requestor Name</mat-label>
                                        <input formControlName="firstName" matInput>
                                    </mat-form-field>
                                </div>
                                <div class="col-12 col-md-6 col-lg-6">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Requestor Surname</mat-label>
                                        <input formControlName="surName" matInput required>
                                    </mat-form-field>
                                </div>
                                <div class="col-12 col-md-6 col-lg-6" *ngIf="
                                requesterType == 439 ||
                                requesterType == 444 ||
                                requesterType == 445
                              ">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Contact Number</mat-label>
                                        <input formControlName="contactNo" matInput>
                                    </mat-form-field>
                                </div>
                                <div class="col-12 col-md-6 col-lg-6" *ngIf="
                                requesterType == 439 ||
                                requesterType == 440
                              ">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Email</mat-label>
                                        <input formControlName="email" matInput>
                                    </mat-form-field>
                                </div>
                                <div class="col-12 col-md-6 col-lg-6" *ngIf="
                                requesterType == 439 ||
                                requesterType == 441
                              ">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Fax</mat-label>
                                        <input formControlName="fax" matInput>
                                    </mat-form-field>
                                </div>
                                <div class="col-12 col-md-6 col-lg-6" *ngIf="
                                requesterType == 439 ||
                                requesterType == 442 ||
                                requesterType == 443
                              ">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Address Line 1</mat-label>
                                        <input formControlName="addressLine1" matInput>
                                    </mat-form-field>
                                </div>
                                <div class="col-12 col-md-6 col-lg-6" *ngIf="
                                requesterType == 439 ||
                                requesterType == 442 ||
                                requesterType == 443
                              ">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Address Line 2</mat-label>
                                        <input formControlName="addressLine2" matInput>
                                    </mat-form-field>
                                </div>
                                <div class="col-12 col-md-6 col-lg-6" *ngIf="
                                requesterType == 439 ||
                                requesterType == 442 ||
                                requesterType == 443
                              ">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Address Line 3</mat-label>
                                        <input formControlName="addressLine3" matInput>
                                    </mat-form-field>
                                </div>
                                <div class="col-12 col-md-6 col-lg-6" *ngIf="
                                requesterType == 439 ||
                                requesterType == 442 ||
                                requesterType == 443
                              ">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Postal Code</mat-label>
                                        <input formControlName="postalCode" matInput>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
            <div class="row mt-1">
                <div class="col-12 col-md-3">
                    <div class="row">
                        <div class="gallery-wrapper" style="box-shadow: 0 2px 10px rgb(0 0 0 / 20%);
                        -webkit-box-shadow: 0 2px 10px rgb(0 0 0 / 20%);
                        border-color: rgba(0,0,0,.2);height: 380px;width: 300px;">
                            <span fxLayoutAlign="center center">No Preview available</span>
                            <!-- <ngx-skeleton-loader *ngIf="showImageLoader" count="5" appearance="circle" [theme]="{
                                width: '70px',
                                height: '150px',
                                'border-radius': '10px'
                              }">
                            </ngx-skeleton-loader> -->
                            <!-- <ngx-gallery *ngIf="!showImageLoader" #gallery [options]="galleryOptions"
                                [images]="imageArray" class="ngx-gallery"></ngx-gallery> -->
                        </div>
                    </div>
                    <!-- <div class="row" style="margin-top: 16px;" *ngIf="imageArray != undefined">
                        <div class="col-3 pr-1" *ngFor="let x of imageArray; let i = index;">
                            <img (click)="selectImage(x)"
                                [ngClass]="selectedImageID === x.preview ? 'selected-image' : 'bottom-image'"
                                [src]="x.thumbnail" alt="" id="{{x.preview}}">
                        </div>
                    </div> -->
                </div>
                <div class="col col-md-9">
                    <div class="row">
                        <div class="col-12 col-md-12 gray-box">
                            <span class="row">
                                <span class="col">
                                    <span class="info-text">Category</span>
                                    <br>
                                    <span class="desc-text">{{searchDetails?.categoryName}}</span>
                                </span>
                                <span class="col">
                                    <span class="info-text">Subcategory</span>
                                    <br>
                                    <span class="desc-text">{{searchDetails?.name}}</span>
                                </span>
                            </span>
                        </div>

                        <div class="col-12 col-md-12 gray-box">
                            <span class="row">
                                <span class="col">
                                    <span class="desc-text"><b>Description</b></span>
                                    <br>
                                    <span class="info-text">{{searchDetails?.description}}</span>
                                </span>
                            </span>
                        </div>

                        <div class="col-12 col-md-12 gray-box">
                            <span class="desc-text"><b>Information Type</b></span>
                            <!-- <span *ngFor="let x of infoData; let i = index;" class="col-12 col-md-6 col-lg-3">
                                                            <mat-checkbox>
                                                            </mat-checkbox>
                                                        </span> -->
                            <span class="row info-text">
                                <div class="col-12 col-md-3">
                                    <mat-checkbox [checked]='true' [disableRipple]="true"
                                        (click)="$event.preventDefault()">
                                        <span>{{searchDetails?.categoryName}}</span> - <span><b>{{searchDetails?.name}}</b></span>
                                    </mat-checkbox>
                                </div>
                            </span>
                            <div class="row">
                                <div class="col-12 col-md-3">
                                    <span class="row">
                                        <span class="col">
                                            <mat-form-field appearance="outline">
                                                <mat-label>Format</mat-label>
                                                <mat-select matInput
                                                    [(ngModel)]="ngiData.format != null?ngiData.format.itemId:ngiData.format">
                                                    <mat-option (onSelectionChange)="onchange(y)"
                                                        *ngFor="let y of formatType" [value]="y!= null?y.itemId:y">
                                                        {{y.caption}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </span>
                                    </span>
                                </div>
                            </div>


                        </div>

                        <div class="col-12 col-md-12 gray-box">
                            <span class="row">
                                <span class="col">
                                    <span class="desc-text"><b>Notes</b></span>
                                    <br>
                                    <div class="row f-css">
                                        <mat-form-field appearance="outline">
                                            <mat-label>Notes</mat-label>
                                            <textarea [(ngModel)]="ngiData.notes" matInput
                                                style="color: black;"></textarea>
                                            <span class="pull-right char" style="color: black;"><em>{{ 1000 -
                                                ngiData.notes?.length }} characters
                                                    left</em></span>
                                        </mat-form-field>
                                    </div>
                                </span>
                            </span>
                        </div>
                    </div>

                    <!-- <div class="row">
                      
                    </div> -->
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</div>


<!-- Desktop Menu -->
<div class="bottom-menu desktop-menu">
    <div class="row">
        <div class="col" style="margin-top: 16px; margin-bottom: 16px">
            <button mat-stroked-button (click)="checkout()" class="yellow-button pull-right"
                style="margin-right: 48px; margin-left: 16px; background-color: #f48222; color: #ffffff;">Checkout
            </button>
            <button mat-stroked-button (click)="addToCart()" *ngIf="method === 'add'"
                class="yellow-button pull-right">Add To
                Cart
            </button>
            <button mat-stroked-button (click)="updateCart()" *ngIf="method === 'update'"
                class="yellow-button pull-right">Update
                Cart
            </button>
        </div>
    </div>
</div>


<!-- Mobile Menu -->
<div class="bottom-menu mobile-menu">
    <div class="row">

        <div class="col">
            <span class="row justify-content-between">
                <span class="col-12" style="margin-top: 8px; margin-bottom: 4px;">
                    <button mat-stroked-button (click)="addToCart()" class="yellow-button pull-right">Add To
                        Cart</button>
                </span>
                <span class="col-12" style="margin-top: 4px; margin-bottom: 8px;">
                    <button mat-stroked-button (click)="checkout()" class="yellow-button pull-right"
                        style="background-color: #f48222; color: #ffffff;">Checkout</button>
                </span>
            </span>
        </div>
    </div>
</div>