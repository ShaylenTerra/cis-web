<div class="top-spacing">
    <div class="w-100">
        <div class="container-fluid pr-0">
            <span class="row mx-0">
                <span class="col-lg-12 p-l-0" style="display: inline-flex;">
                    <i style="font-size: 30px; cursor: pointer; margin-right: 20px" (click)="nvaigateToLodgementList()"
                        class="fa fa-arrow-circle-left" aria-hidden="true"></i>
                    <h2><a style="color: blue; cursor: pointer !important;" (click)="navigateTaskProfile()">
                            {{lodgeData?.referenceNo}} </a> - {{lodgeData?.actionRequiredDescription}}
                        {{lodgeDraftData?.name}} of {{lodgeDraftData?.provinceName}}</h2>
                </span>
            </span>
            <div class="row mx-0 tab-grid-remove">
                <div class="col-lg-12">
                    <mat-tab-group selectedIndex="0" (selectedTabChange)="changeTab($event)">
                        <mat-tab label="Applicant Details" *ngIf="lodgeDraftData !== undefined">
                            <app-applicant-lodgement *ngIf="lodgeDraftData !== undefined && tabIndex === 0" [draftData]="lodgeDraftData"
                                (outputFromChild)="receiveChildData($event)" [readonly]="readonly" [preview]="preview"
                                [processName]="processName">
                            </app-applicant-lodgement>
                        </mat-tab>
                        <mat-tab label="Application Details" *ngIf="lodgeDraftData !== undefined">
                            <app-application-lodgement *ngIf="lodgeDraftData !== undefined && tabIndex === 1"
                                (outputFromChild)="receiveChildData($event)" [draftData]="lodgeDraftData"
                                [readonly]="false" [preview]="preview"></app-application-lodgement>
                        </mat-tab>
                        <mat-tab label="Lodgement Document" *ngIf="lodgeDraftData !== undefined">
                            <app-lodgement-document *ngIf="tabIndex === 2" [draftId]="draftId" [provinceId]="provinceId" [readonly]="readonly"
                                [showOutcome]="false" [tempData]="tempData" [workflowId]="workflowId">
                            </app-lodgement-document>
                        </mat-tab>
                        <mat-tab label="Payment Details" *ngIf="lodgeDraftData !== undefined">
                            <app-payment-details *ngIf="tabIndex === 3" [draftId]="draftId" [provinceId]="provinceId" [readonly]="readonly"
                                [showOutcome]="false" [preview]="preview" [draftData]="lodgeDraftData"
                                [workflowId]="workflowId" [resubmitData]="resubmitData" [hideData]="true">
                            </app-payment-details>
                        </mat-tab>
                        <mat-tab label="Annexure" *ngIf="lodgeDraftData !== undefined">
                            <app-annexure-lodgement *ngIf="lodgeDraftData !== undefined && tabIndex === 4" [draftData]="lodgeDraftData"
                                [draftId]="draftId" [readonly]="readonly" [workflowId]="workflowId"
                                [resubmitData]="resubmitData" [supportingDoc]="supportingDoc" [preview]="preview"
                                [hideData]="true">
                            </app-annexure-lodgement>
                        </mat-tab>
                        <mat-tab label="Summary" *ngIf="lodgeDraftData !== undefined">
                            <app-summary-lodgement *ngIf="tabIndex === 5" [draftId]="draftId" [provinceId]="provinceId" [readonly]="readonly"
                                [showOutcome]="false" [preview]="preview" [draftData]="lodgeDraftData">
                            </app-summary-lodgement>
                        </mat-tab>
                        <mat-tab label="Batch Details" *ngIf="!batchTab && lodgeDraftData !== undefined">
                            <app-batch-details *ngIf="tabIndex === 6" [taskDetail]="lodgeData" [draftData]="lodgeDraftData" [draftId]="draftId"
                                [workflowId]="workflowId" [readonly]="readonly" [isTaskDetail]="isTaskDetail" [hideData]="true">
                            </app-batch-details>
                        </mat-tab>
                        <mat-tab label="Numbering" *ngIf="!numberingTab && lodgeDraftData !== undefined">
                            <app-numbering *ngIf="tabIndex === 7" [taskDetail]="lodgeData" [draftData]="lodgeDraftData" [draftId]="draftId"
                                [workflowId]="workflowId" [readonly]="readonly">
                            </app-numbering>
                        </mat-tab>
                        <mat-tab label="Request Flow" *ngIf="lodgeDraftData !== undefined">
                            <app-requestflow-reservation
                            *ngIf="tabIndex === 8" [workflowId]="workflowId"></app-requestflow-reservation>
                        </mat-tab>
                        <mat-tab label="Referral Input" *ngIf="lodgeDraftData !== undefined">
                            <app-referral-input *ngIf="tabIndex === 9" [workflowId]="workflowId"></app-referral-input>
                        </mat-tab>
                        <mat-tab label="Dispatch" *ngIf="!dispatchTab && lodgeDraftData !== undefined">
                            <app-lodgement-dispatch *ngIf="tabIndex === 10"></app-lodgement-dispatch>
                        </mat-tab>
                        <mat-tab label="Decision" *ngIf="lodgeDraftData !== undefined">
                            <app-lodgement-decision *ngIf="lodgeDraftData !== undefined && draftId !== undefined && tabIndex ===11"
                                [taskDetail]="lodgeData" [draftData]="lodgeDraftData" [draftId]="draftId"
                                [workflowId]="workflowId" [readonly]="readonly"></app-lodgement-decision>
                        </mat-tab>
                    </mat-tab-group>
                </div>
            </div>
        </div>
    </div>